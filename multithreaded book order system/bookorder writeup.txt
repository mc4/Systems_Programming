We begin our program by creating a customer database. We parse the customer file and create a new customer file and store each new customer in a hashtable. We then parse the category file and create a queue for each category then we start a new consumer thread for each category. The idea is for the consumer to read data from the queue and the producer to add orders to the queue. Next we spawn the producer that parses the bookorder file. Our producer tokenizes the line in the file and creates a bookorder object. Based on the category token in the struct we add it to the queue for the relevant category. We then wait for all the consumers to finish processing the orders by calling pthread_join. Finally we then print the final report based on our customer database.

We paid careful attention to making sure we locked our data structures so multiple threads could no overwrite any data or manipulate it in a way that would obscure our results. We also made sure to keep effiency in mind when we chose our data structures. 